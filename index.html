<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ayaan Siddique - Cybersecurity, IoT, and Blockchain Developer Portfolio">
    <meta name="keywords" content="cybersecurity, IoT, blockchain, web development, portfolio">
    <meta name="author" content="Ayaan Siddique">
    <meta name="theme-color" content="#000000">
    <title>Ayaan Siddique | Portfolio</title>
    
    <!-- Preconnect to critical origins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://api.github.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <!-- Critical CSS -->
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{background-color:#000;color:#fff;font-family:'Inter',sans-serif;overflow-x:hidden}
        #intro-screen{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:100;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center}
        .loading-text{font-size:0.8rem;letter-spacing:0.5em;text-transform:uppercase;opacity:0.5;animation:pulse 2s infinite;z-index:2;position:relative;margin-top:350px}
        @keyframes pulse{0%,100%{opacity:0.3}50%{opacity:0.8}}
        .hero-title{font-size:clamp(3rem,12vw,10rem);font-weight:100;letter-spacing:-0.02em;line-height:0.9;opacity:0;transform:translateY(100px)}
    </style>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;600;800&display=swap" rel="stylesheet">
    
    <!-- Scripts - Load in correct order -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" integrity="sha512-dLxUelApnYxpLt6K2iomGngnHO83iUvZytA3YjDUCjT0HDOHKXnVYdf3hU4JjM8uEhxf9nD1/ey98U3t2vZ0qQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" integrity="sha512-16esztaSRplJROstbIIdwX3N97V1+pZvV33ABoG1H2OyTttBxEGkTsoIVsiP1iaTtM8b3+hu2kB6pQ4Clr5yug==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" integrity="sha512-Ic9xkERjyZ1xgJ5svx3y0u3xrvfT/uPkV99LBwe68xjy/mGtO+4eURHZBW2xW4SZbFrF1Tf090XqB+EVgXnVjw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        #globe-canvas {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }

        #main-content {
            position: relative;
            z-index: 10;
            opacity: 0;
        }

        .nav-link {
            position: relative;
            color: #888;
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav-link:hover { color: white; }
        .nav-link.active { color: white; }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 1rem;
        }

        .modal.active { display: flex; }

        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            padding: 1rem 1.5rem;
            background: #18181b;
            border: 1px solid #27272a;
            border-radius: 0.5rem;
            z-index: 10000;
            transform: translateY(200%);
            transition: transform 0.3s ease;
        }

        .toast.show { transform: translateY(0); }
        .toast.success { border-color: #22c55e; }
        .toast.error { border-color: #ef4444; }
    </style>
</head>
<body>

    <div id="canvas-container"></div>
    
    <div id="intro-screen">
        <canvas id="globe-canvas"></canvas>
        <div class="loading-text">Loading Experience</div>
    </div>

    <nav class="fixed top-0 w-full z-40 bg-black/50 backdrop-blur-md border-b border-white/5 py-5 px-8" style="opacity: 0;">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="text-xl font-light tracking-wider">AYAAN</div>
            <div class="flex gap-8 text-sm uppercase tracking-wider">
                <a href="#home" class="nav-link">Home</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#skills" class="nav-link">Skills</a>
                <a href="#projects" class="nav-link">Projects</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>
        </div>
    </nav>

    <main id="main-content">
        
        <section id="home" class="min-h-screen flex flex-col items-center justify-center relative px-6">
            <div class="text-center z-10 max-w-6xl">
                <h1 class="hero-title mb-8" id="hero-name">
                    AYAAN<br>SIDDIQUE
                </h1>
                <p class="text-xl md:text-2xl text-zinc-400 font-light tracking-widest mb-12 opacity-0" id="hero-subtitle">
                    CYBERSECURITY • IoT • BLOCKCHAIN
                </p>
                
                <div class="flex gap-6 justify-center opacity-0" id="hero-socials">
                    <a href="https://github.com/Ayaansiddiq07" target="_blank" rel="noopener noreferrer" class="hover:text-zinc-400 transition-colors" aria-label="GitHub">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                        </svg>
                    </a>
                    <a href="https://linkedin.com/in/ayaan-siddique" target="_blank" rel="noopener noreferrer" class="hover:text-zinc-400 transition-colors" aria-label="LinkedIn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                            <rect x="2" y="9" width="4" height="12"></rect>
                            <circle cx="4" cy="4" r="2"></circle>
                        </svg>
                    </a>
                    <a href="mailto:ayaansiddique@example.com" class="hover:text-zinc-400 transition-colors" aria-label="Email">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                        </svg>
                    </a>
                </div>
            </div>

            <div class="absolute bottom-12 animate-bounce opacity-0" id="scroll-indicator">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-zinc-400">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <polyline points="19 12 12 19 5 12"></polyline>
                </svg>
            </div>
        </section>

        <section id="about" class="min-h-screen flex items-center py-32 px-6">
            <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-16 w-full">
                <div class="reveal-section">
                    <h2 class="text-5xl md:text-7xl font-thin mb-8">About</h2>
                    <div class="w-20 h-1 bg-white mb-8"></div>
                </div>
                <div class="space-y-8 reveal-section">
                    <h3 class="text-3xl font-light leading-relaxed">
                        Building high-performance digital experiences at the intersection of <span class="text-zinc-500">security and innovation.</span>
                    </h3>
                    <p class="text-zinc-400 text-lg leading-relaxed">
                        Currently pursuing Bachelor of Engineering in Cybersecurity, IoT, and Blockchain at Bearys Institute of Technology. 
                        I design and develop platforms that are secure by design, combining engineering precision with clean aesthetics.
                    </p>
                    <p class="text-zinc-400 text-lg leading-relaxed">
                        From building AI-powered platforms to implementing secure blockchain solutions, 
                        I'm passionate about emerging technologies that transform how we interact with the digital world.
                    </p>
                </div>
            </div>
        </section>

        <section id="skills" class="min-h-screen py-32 px-6 bg-zinc-950/50">
            <div class="max-w-7xl mx-auto w-full">
                <h2 class="text-5xl md:text-7xl font-thin mb-16 reveal-section">Currently Studying</h2>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="reveal-section">
                        <h3 class="text-2xl font-light mb-8 text-zinc-300">Programming Languages</h3>
                        <div class="space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Python</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">JavaScript</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">C/C++</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Solidity</span>
                            </div>
                        </div>
                    </div>

                    <div class="reveal-section">
                        <h3 class="text-2xl font-light mb-8 text-zinc-300">Technologies & Frameworks</h3>
                        <div class="space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">React.js</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Node.js</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">MongoDB</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Express.js</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Django</span>
                            </div>
                        </div>
                    </div>

                    <div class="reveal-section">
                        <h3 class="text-2xl font-light mb-8 text-zinc-300">Specialized Skills</h3>
                        <div class="space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">IoT & Embedded Systems</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Blockchain Development</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Cybersecurity</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Networking</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                <span class="text-zinc-400">Web3 Technologies</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="projects" class="min-h-screen py-32 px-6 bg-zinc-950/50">
            <div class="max-w-7xl mx-auto w-full">
                <h2 class="text-5xl md:text-7xl font-thin mb-16 reveal-section">Featured Projects</h2>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="projects-grid">
                    <div class="text-zinc-400 col-span-full text-center py-12">Loading projects...</div>
                </div>
            </div>
        </section>

        <section id="contact" class="min-h-screen flex items-center py-32 px-6">
            <div class="max-w-4xl mx-auto w-full">
                <h2 class="text-5xl md:text-7xl font-thin mb-16 reveal-section">Let's Connect</h2>
                
                <form id="contact-form" class="space-y-4 text-left" novalidate>
                    <input type="text" name="from_name" required placeholder="Your Name" minlength="2" maxlength="100" class="w-full bg-transparent border-b border-zinc-800 py-4 text-xl focus:border-white outline-none transition-colors">
                    <input type="email" name="from_email" required placeholder="Your Email" class="w-full bg-transparent border-b border-zinc-800 py-4 text-xl focus:border-white outline-none transition-colors">
                    <textarea name="message" rows="6" required placeholder="Your Message" minlength="10" maxlength="1000" class="w-full bg-transparent border-b border-zinc-800 py-4 text-xl focus:border-white outline-none transition-colors resize-none"></textarea>
                    
                    <button type="submit" class="w-full bg-white text-black font-bold py-4 hover:bg-gray-200 transition-colors uppercase tracking-widest text-sm">Send Message</button>
                </form>
            </div>
        </section>

    </main>

    <footer class="bg-black border-t border-zinc-900 py-16 px-6 relative z-20">
        <div class="max-w-7xl mx-auto">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
                <div class="reveal-section">
                    <h3 class="text-xl font-light tracking-wider mb-4">AYAAN</h3>
                    <p class="text-zinc-500 text-sm leading-relaxed">
                        Building secure, innovative digital solutions at the intersection of cybersecurity, IoT, and blockchain.
                    </p>
                </div>

                <div class="reveal-section">
                    <h4 class="text-sm uppercase tracking-wider text-zinc-400 mb-6">Navigation</h4>
                    <ul class="space-y-3">
                        <li><a href="#home" class="text-zinc-500 hover:text-white transition-colors text-sm">Home</a></li>
                        <li><a href="#about" class="text-zinc-500 hover:text-white transition-colors text-sm">About</a></li>
                        <li><a href="#skills" class="text-zinc-500 hover:text-white transition-colors text-sm">Skills</a></li>
                        <li><a href="#projects" class="text-zinc-500 hover:text-white transition-colors text-sm">Projects</a></li>
                        <li><a href="#contact" class="text-zinc-500 hover:text-white transition-colors text-sm">Contact</a></li>
                    </ul>
                </div>

                <div class="reveal-section">
                    <h4 class="text-sm uppercase tracking-wider text-zinc-400 mb-6">Connect</h4>
                    <ul class="space-y-3">
                        <li><a href="https://github.com/Ayaansiddiq07" target="_blank" rel="noopener noreferrer" class="text-zinc-500 hover:text-white transition-colors text-sm flex items-center gap-2">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                            </svg>
                            GitHub
                        </a></li>
                        <li><a href="https://linkedin.com/in/ayaan-siddique" target="_blank" rel="noopener noreferrer" class="text-zinc-500 hover:text-white transition-colors text-sm flex items-center gap-2">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                                <rect x="2" y="9" width="4" height="12"></rect>
                                <circle cx="4" cy="4" r="2"></circle>
                            </svg>
                            LinkedIn
                        </a></li>
                        <li><a href="mailto:ayaansiddique@example.com" class="text-zinc-500 hover:text-white transition-colors text-sm flex items-center gap-2">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                            Email
                        </a></li>
                    </ul>
                </div>

                <div class="reveal-section">
                    <h4 class="text-sm uppercase tracking-wider text-zinc-400 mb-6">Tech Stack</h4>
                    <div class="flex flex-wrap gap-2">
                        <span class="px-2 py-1 bg-zinc-900 border border-zinc-800 rounded text-xs text-zinc-400">Python</span>
                        <span class="px-2 py-1 bg-zinc-900 border border-zinc-800 rounded text-xs text-zinc-400">JavaScript</span>
                        <span class="px-2 py-1 bg-zinc-900 border border-zinc-800 rounded text-xs text-zinc-400">React</span>
                        <span class="px-2 py-1 bg-zinc-900 border border-zinc-800 rounded text-xs text-zinc-400">Node.js</span>
                        <span class="px-2 py-1 bg-zinc-900 border border-zinc-800 rounded text-xs text-zinc-400">Solidity</span>
                    </div>
                </div>
            </div>

            <div class="border-t border-zinc-900 py-8">
                <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                    <p class="text-zinc-600 text-xs">© 2025 Ayaan Siddique. All rights reserved.</p>
                    <p class="text-zinc-600 text-xs">Hosted on <a href="https://vercel.com" target="_blank" rel="noopener noreferrer" class="text-zinc-400 hover:text-white transition-colors">Vercel</a> • Built with <span class="text-red-500">❤</span></p>
                    <div class="flex gap-6">
                        <a href="#home" class="text-zinc-600 hover:text-white transition-colors text-xs">Back to Top</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div class="modal" id="project-modal" onclick="closeModal()">
        <div class="bg-zinc-900 border border-zinc-800 rounded-lg max-w-3xl w-full p-8 relative" onclick="event.stopPropagation()">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-zinc-400 hover:text-white transition-colors text-2xl" aria-label="Close">×</button>
            <h3 class="text-3xl font-light mb-4" id="modal-title"></h3>
            <p class="text-zinc-400 text-lg mb-6" id="modal-description"></p>
            <div class="mb-6">
                <h4 class="text-sm uppercase tracking-wider text-zinc-500 mb-3">Technologies</h4>
                <div class="flex flex-wrap gap-2" id="modal-tech"></div>
            </div>
            <div class="border-t border-zinc-800 pt-4 flex justify-between items-center">
                <span class="text-xs uppercase tracking-wider text-zinc-500" id="modal-category"></span>
                <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-sm text-zinc-400 hover:text-white transition-colors">
                    View on GitHub
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                        <polyline points="15 3 21 3 21 9"></polyline>
                        <line x1="10" y1="14" x2="21" y2="3"></line>
                    </svg>
                </a>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">
        <p id="toast-message"></p>
    </div>

    <script>
        // Wait for all libraries to load
        window.addEventListener('load', function() {
            initPortfolio();
        });

        function initPortfolio() {
            // EmailJS Configuration
            const EMAILJS_CONFIG = {
                serviceID: 'service_o0382pf',
                templateID: 'template_kdldom7',
                publicKey: '9aDFHA4whx9CYlrG4'
            };

            if (typeof emailjs !== 'undefined' && EMAILJS_CONFIG.publicKey) {
                emailjs.init(EMAILJS_CONFIG.publicKey);
            }

            let lastSubmitTime = 0;
            const RATE_LIMIT_MS = 60000;

            function generateTextParticles(text, fontSize = 120) {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                canvas.width = window.innerWidth;
                canvas.height = 400;
                
                ctx.fillStyle = 'white';
                ctx.font = `${fontSize}px Inter, sans-serif`;
                ctx.fontWeight = '100';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                
                const lines = text.split('\n');
                const lineHeight = fontSize * 1.2;
                const startY = (canvas.height - (lines.length - 1) * lineHeight) / 2;
                
                lines.forEach((line, i) => {
                    ctx.fillText(line, canvas.width / 2, startY + i * lineHeight);
                });
                
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const particles = [];
                const sampling = 3;
                
                for (let y = 0; y < canvas.height; y += sampling) {
                    for (let x = 0; x < canvas.width; x += sampling) {
                        const index = (y * canvas.width + x) * 4;
                        const alpha = imageData.data[index + 3];
                        
                        if (alpha > 128) {
                            particles.push({
                                x: (x - canvas.width / 2) / 100,
                                y: -(y - canvas.height / 2) / 100,
                                z: 0
                            });
                        }
                    }
                }
                
                return particles;
            }

            // Check if THREE is loaded
            if (typeof THREE === 'undefined') {
                console.error('THREE.js not loaded');
                document.getElementById('intro-screen').style.display = 'none';
                document.getElementById('main-content').style.opacity = '1';
                return;
            }

            // GLOBE INTRO SCENE
            const globeCanvas = document.getElementById('globe-canvas');
            const globeScene = new THREE.Scene();
            const globeCamera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const globeRenderer = new THREE.WebGLRenderer({ 
                canvas: globeCanvas,
                alpha: true, 
                antialias: true,
                powerPreference: 'high-performance'
            });
            
            globeRenderer.setSize(window.innerWidth, window.innerHeight);
            globeRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            
            const globeGeometry = new THREE.SphereGeometry(5, 64, 64);
            const globeMaterial = new THREE.MeshBasicMaterial({
                color: 0xffffff,
                wireframe: true,
                transparent: true,
                opacity: 0.3
            });
            
            const globe = new THREE.Mesh(globeGeometry, globeMaterial);
            globeScene.add(globe);
            
            const particleGeometry = new THREE.BufferGeometry();
            const particleCount = 1000;
            const particlePositions = new Float32Array(particleCount * 3);
            
            for(let i = 0; i < particleCount; i++) {
                const radius = 5.5 + Math.random() * 2;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.random() * Math.PI;
                
                particlePositions[i * 3] = radius * Math.sin(phi) * Math.cos(theta);
                particlePositions[i * 3 + 1] = radius * Math.sin(phi) * Math.sin(theta);
                particlePositions[i * 3 + 2] = radius * Math.cos(phi);
            }
            
            particleGeometry.setAttribute('position', new THREE.BufferAttribute(particlePositions, 3));
            
            const particleMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.05,
                transparent: true,
                opacity: 0.6
            });
            
            const particleSystem = new THREE.Points(particleGeometry, particleMaterial);
            globeScene.add(particleSystem);
            
            globeCamera.position.z = 15;
            
            let globeAnimating = true;
            
            function animateGlobe() {
                if (!globeAnimating) return;
                requestAnimationFrame(animateGlobe);
                
                globe.rotation.y += 0.002;
                globe.rotation.x += 0.001;
                particleSystem.rotation.y -= 0.001;
                
                globeRenderer.render(globeScene, globeCamera);
            }
            animateGlobe();

            // MAIN PARTICLE SCENE
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ 
                alpha: true, 
                antialias: true,
                powerPreference: 'high-performance'
            });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.setClearColor(0x000000, 0);
            
            const canvasContainer = document.getElementById('canvas-container');
            canvasContainer.appendChild(renderer.domElement);

            const textPositions = generateTextParticles('AYAAN\nSIDDIQUE', window.innerWidth > 768 ? 120 : 60);
            const particleCount2 = textPositions.length;
            
            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount2 * 3);
            const targetPositions = new Float32Array(particleCount2 * 3);
            const velocities = new Float32Array(particleCount2 * 3);
            const explosionPositions = new Float32Array(particleCount2 * 3);
            
            for(let i = 0; i < particleCount2; i++) {
                positions[i * 3] = textPositions[i].x;
                positions[i * 3 + 1] = textPositions[i].y;
                positions[i * 3 + 2] = textPositions[i].z;
                
                const dx = textPositions[i].x;
                const dy = textPositions[i].y;
                const dz = textPositions[i].z;
                const dist = Math.sqrt(dx * dx + dy * dy + dz * dz) || 1;
                
                const speed = 0.15 + Math.random() * 0.1;
                velocities[i * 3] = (dx / dist) * speed + (Math.random() - 0.5) * 0.05;
                velocities[i * 3 + 1] = (dy / dist) * speed + (Math.random() - 0.5) * 0.05;
                velocities[i * 3 + 2] = (dz / dist) * speed + (Math.random() - 0.5) * 0.05;
                
                const explosionDist = 18;
                explosionPositions[i * 3] = textPositions[i].x + velocities[i * 3] * explosionDist;
                explosionPositions[i * 3 + 1] = textPositions[i].y + velocities[i * 3 + 1] * explosionDist;
                explosionPositions[i * 3 + 2] = textPositions[i].z + velocities[i * 3 + 2] * explosionDist;
                
                targetPositions[i * 3] = textPositions[i].x;
                targetPositions[i * 3 + 1] = textPositions[i].y;
                targetPositions[i * 3 + 2] = textPositions[i].z;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

            const material = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.025,
                transparent: true,
                opacity: 0,
                sizeAttenuation: true,
                blending: THREE.AdditiveBlending
            });

            const particles = new THREE.Points(geometry, material);
            scene.add(particles);
            
            camera.position.z = 4;

            let animationPhase = 'hidden';
            let explosionProgress = 0;
            let reformProgress = 0;

            function animate() {
                requestAnimationFrame(animate);
                
                const positionAttribute = geometry.getAttribute('position');
                const currentPositions = positionAttribute.array;
                
                if (animationPhase === 'exploding') {
                    explosionProgress += 0.018;
                    const easeOut = 1 - Math.pow(1 - explosionProgress, 3);
                    
                    for(let i = 0; i < particleCount2; i++) {
                        const startX = targetPositions[i * 3];
                        const startY = targetPositions[i * 3 + 1];
                        const startZ = targetPositions[i * 3 + 2];
                        
                        const endX = explosionPositions[i * 3];
                        const endY = explosionPositions[i * 3 + 1];
                        const endZ = explosionPositions[i * 3 + 2];
                        
                        currentPositions[i * 3] = startX + (endX - startX) * easeOut;
                        currentPositions[i * 3 + 1] = startY + (endY - startY) * easeOut;
                        currentPositions[i * 3 + 2] = startZ + (endZ - startZ) * easeOut;
                    }
                    
                    positionAttribute.needsUpdate = true;
                    
                    if (explosionProgress >= 1) {
                        animationPhase = 'reforming';
                        explosionProgress = 0;
                    }
                }
                else if (animationPhase === 'reforming') {
                    reformProgress += 0.01;
                    const easeProgress = 1 - Math.pow(1 - reformProgress, 3);
                    
                    for(let i = 0; i < particleCount2; i++) {
                        const startX = explosionPositions[i * 3];
                        const startY = explosionPositions[i * 3 + 1];
                        const startZ = explosionPositions[i * 3 + 2];
                        
                        const endX = targetPositions[i * 3];
                        const endY = targetPositions[i * 3 + 1];
                        const endZ = targetPositions[i * 3 + 2];
                        
                        currentPositions[i * 3] = startX + (endX - startX) * easeProgress;
                        currentPositions[i * 3 + 1] = startY + (endY - startY) * easeProgress;
                        currentPositions[i * 3 + 2] = startZ + (endZ - startZ) * easeProgress;
                    }
                    
                    positionAttribute.needsUpdate = true;
                    
                    if (reformProgress >= 1) {
                        animationPhase = 'text';
                    }
                }
                
                renderer.render(scene, camera);
            }
            animate();

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                
                globeCamera.aspect = window.innerWidth / window.innerHeight;
                globeCamera.updateProjectionMatrix();
                globeRenderer.setSize(window.innerWidth, window.innerHeight);
            }
            window.addEventListener('resize', onWindowResize);

            function playIntroAnimation() {
                if (typeof gsap === 'undefined') {
                    console.error('GSAP not loaded');
                    document.getElementById('intro-screen').style.display = 'none';
                    document.getElementById('main-content').style.opacity = '1';
                    return;
                }

                animationPhase = 'hidden';
                explosionProgress = 0;
                reformProgress = 0;
                
                const intro = document.getElementById('intro-screen');
                const mainContent = document.getElementById('main-content');
                const navbar = document.querySelector('nav');

                intro.style.display = 'flex';
                intro.style.opacity = '1';
                mainContent.style.opacity = '0';
                navbar.style.opacity = '0';

                setTimeout(() => {
                    gsap.to(globeMaterial, { opacity: 0, duration: 0.5 });
                    gsap.to(particleMaterial, { opacity: 0, duration: 0.5 });
                }, 2000);

                gsap.to(intro, {
                    opacity: 0,
                    duration: 0.5,
                    delay: 2.5,
                    onComplete: () => {
                        intro.style.display = 'none';
                        globeAnimating = false;
                    }
                });

                setTimeout(() => {
                    gsap.to(material, { opacity: 1, duration: 0.3 });
                    animationPhase = 'exploding';
                    
                    gsap.to(camera.position, { z: 8, duration: 2.2, ease: "power2.out" });
                    
                    setTimeout(() => {
                        gsap.to(camera.position, { z: 12, duration: 2.5, ease: "power2.inOut" });
                    }, 1200);
                }, 2500);

                setTimeout(() => {
                    gsap.to(material, { 
                        opacity: 0.15, 
                        size: 0.015,
                        duration: 1.5,
                        ease: "power2.inOut"
                    });
                    
                    gsap.to(mainContent, { 
                        opacity: 1, 
                        duration: 1, 
                        ease: "power2.inOut"
                    });
                    
                    gsap.to(navbar, { 
                        opacity: 1, 
                        duration: 1, 
                        delay: 0.2,
                        ease: "power2.inOut"
                    });
                    
                    gsap.to('#hero-name', { 
                        opacity: 1, 
                        y: 0, 
                        duration: 1, 
                        delay: 0.4, 
                        ease: "power4.out" 
                    });
                    
                    gsap.to('#hero-subtitle', { 
                        opacity: 1, 
                        duration: 0.8, 
                        delay: 0.8
                    });
                    
                    gsap.to('#hero-socials', { 
                        opacity: 1, 
                        duration: 0.8, 
                        delay: 1
                    });
                    
                    gsap.to('#scroll-indicator', { 
                        opacity: 1, 
                        duration: 0.8, 
                        delay: 1.2
                    });
                }, 6500);
            }

            playIntroAnimation();

            document.querySelectorAll('a[href="#home"]').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    playIntroAnimation();
                    setTimeout(() => {
                        document.getElementById('home').scrollIntoView({ behavior: 'smooth' });
                    }, 100);
                });
            });

            function sanitizeInput(input) {
                const div = document.createElement('div');
                div.textContent = input;
                return div.innerHTML;
            }

            function isValidEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email) && email.length <= 254;
            }

            async function loadProjects() {
                const grid = document.getElementById('projects-grid');
                const username = 'Ayaansiddiq07';
                
                grid.innerHTML = '<div class="text-zinc-400 col-span-full text-center py-12">Loading projects...</div>';
                
                try {
                    const response = await fetch(`https://api.github.com/users/${username}/repos?sort=updated&per_page=6`);
                    
                    if (!response.ok) {
                        throw new Error('Failed to fetch repositories');
                    }
                    
                    const repos = await response.json();
                    
                    if (!Array.isArray(repos)) {
                        throw new Error('Invalid response from GitHub API');
                    }
                    
                    grid.innerHTML = '';
                    
                    repos.forEach((repo, index) => {
                        const project = {
                            id: index + 1,
                            title: sanitizeInput(repo.name.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase())),
                            description: sanitizeInput(repo.description || 'No description provided'),
                            tech: Array.isArray(repo.topics) && repo.topics.length > 0 ? repo.topics.map(t => sanitizeInput(t)) : ['GitHub'],
                            category: sanitizeInput(repo.language || 'Repository'),
                            github: repo.html_url,
                            stars: repo.stargazers_count || 0
                        };
                        
                        const card = document.createElement('div');
                        card.className = 'project-card reveal-section bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden cursor-pointer hover:border-white/30 transition-all duration-300';
                        card.innerHTML = `
                            <div class="aspect-video bg-gradient-to-br from-zinc-800 to-zinc-900 flex items-center justify-center">
                                <div class="text-6xl font-thin text-zinc-700">⭐</div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-light mb-2">${project.title}</h3>
                                <p class="text-sm text-zinc-500 mb-4">${project.category}</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-zinc-600">${project.stars} stars</span>
                                    <div class="flex items-center text-zinc-400 text-sm">
                                        <span>View</span>
                                        <svg width="16" height="16" class="ml-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                            <polyline points="15 3 21 3 21 9"></polyline>
                                            <line x1="10" y1="14" x2="21" y2="3"></line>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        `;
                        card.onclick = () => window.openModal(project);
                        grid.appendChild(card);
                    });
                } catch (error) {
                    console.error('Error loading projects:', error);
                    grid.innerHTML = '<p class="text-zinc-400 col-span-full text-center py-12">Unable to load projects. Please try again later.</p>';
                }
            }

            window.openModal = function(project) {
                document.getElementById('modal-title').textContent = project.title;
                document.getElementById('modal-description').textContent = project.description;
                document.getElementById('modal-category').textContent = project.category;
                document.getElementById('modal-link').href = project.github;
                
                const techContainer = document.getElementById('modal-tech');
                techContainer.innerHTML = '';
                project.tech.forEach(tech => {
                    const span = document.createElement('span');
                    span.className = 'px-3 py-1 bg-zinc-800 rounded-full text-sm';
                    span.textContent = tech;
                    techContainer.appendChild(span);
                });
                
                document.getElementById('project-modal').classList.add('active');
            };

            window.closeModal = function() {
                document.getElementById('project-modal').classList.remove('active');
            };

            function showToast(message, type = 'success') {
                const toast = document.getElementById('toast');
                const toastMessage = document.getElementById('toast-message');
                toastMessage.textContent = message;
                toast.className = `toast ${type} show`;
                setTimeout(() => toast.classList.remove('show'), 3000);
            }

            document.getElementById('contact-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const now = Date.now();
                if (now - lastSubmitTime < RATE_LIMIT_MS) {
                    const waitTime = Math.ceil((RATE_LIMIT_MS - (now - lastSubmitTime)) / 1000);
                    showToast(`Please wait ${waitTime} seconds before sending another message`, 'error');
                    return;
                }
                
                const submitBtn = e.target.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = 'SENDING...';
                submitBtn.disabled = true;

                try {
                    const name = e.target.from_name.value.trim();
                    const email = e.target.from_email.value.trim();
                    const message = e.target.message.value.trim();
                    
                    if (name.length < 2 || name.length > 100) {
                        throw new Error('Name must be between 2 and 100 characters');
                    }
                    
                    if (!isValidEmail(email)) {
                        throw new Error('Please enter a valid email address');
                    }
                    
                    if (message.length < 10 || message.length > 1000) {
                        throw new Error('Message must be between 10 and 1000 characters');
                    }

                    if (typeof emailjs !== 'undefined') {
                        const formData = {
                            from_name: sanitizeInput(name),
                            from_email: sanitizeInput(email),
                            message: sanitizeInput(message)
                        };

                        await emailjs.send(
                            EMAILJS_CONFIG.serviceID,
                            EMAILJS_CONFIG.templateID,
                            formData
                        );

                        lastSubmitTime = Date.now();
                        showToast('Message sent successfully!', 'success');
                        e.target.reset();
                    } else {
                        throw new Error('Email service not available');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    showToast(error.message || 'Failed to send message. Please try again.', 'error');
                } finally {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            });

            if (typeof gsap !== 'undefined') {
                gsap.registerPlugin(ScrollTrigger);

                gsap.utils.toArray('.reveal-section').forEach(element => {
                    gsap.fromTo(element, 
                        { opacity: 0, y: 60 },
                        {
                            opacity: 1,
                            y: 0,
                            duration: 1.2,
                            ease: "power3.out",
                            scrollTrigger: {
                                trigger: element,
                                start: "top 85%"
                            }
                        }
                    );
                });
            }

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if(target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            window.addEventListener('scroll', () => {
                const sections = document.querySelectorAll('section[id]');
                const scrollY = window.pageYOffset;

                sections.forEach(section => {
                    const sectionHeight = section.offsetHeight;
                    const sectionTop = section.offsetTop - 100;
                    const sectionId = section.getAttribute('id');
                    
                    if (scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${sectionId}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            });

            setTimeout(() => loadProjects(), 1000);
        }
    </script>

</body>
</html>